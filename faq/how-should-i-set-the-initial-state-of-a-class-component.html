<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://classless.de/classless-tiny.css">
    <title>How should I set the initial state of a class component?</title>
</head>

<body>
    <h1>How should I set the initial state of a class component?</h1>

<p>Before the ES2019 version of JavaScript you <em>had</em> to write your React classes like this if you wanted to set an initial state:</p>

<p>```jsx
class App extends Component {
  constructor() {
    super();
    this.state = {
      counter: 0,
    }
    this.setCounter = this.setCounter.bind(this);
  }</p>

<p>setCounter() {
    this.setState((prevState) =&gt; ({
      counter: prevState.counter + 1,
    }));
  }</p>

<p>render() {
    return (
      <div className='App'>
        <p>{title} {this.state.counter}</p>
        <button onClick={this.setCounter}&gt;Add</button>
      </div>
    )
  }
}
```</p>

<p>With ES2019 we got <a href="https://javascript.info/class#class-fields">class fields</a>. This means we no longer <em>need</em> to set the state in the constructor:</p>

<p>```jsx
class App extends Component {
  state = {
    counter: 0,
  }</p>

<p>setCounter = () =&gt; {
    this.setState((prevState) =&gt; ({
      counter: prevState.counter + 1,
    }));
  }</p>

<p>render() {
    return (
      <div className='App'>
        <p>{title} {this.state.counter}</p>
        <button onClick={this.setCounter}&gt;Add</button>
      </div>
    )
  }
}
```</p>

<p>But: if you already have a need for the constructor method for some reason it may be more readable to use the first version. But: this is more of a preference than a technical thing.</p>


</body>

</html>