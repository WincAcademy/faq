<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="Winc FAQ">
    <meta name="author" content="Donatas RasiukeviÄius">
    <title> How should I set the initial state of a class component? |  Winc FAQ</title>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://static.wincacademy.nl/css/style.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" type="image/png" href="https://static.wincacademy.nl/logos/favicon.png">
</head>

<body>
    <div class="logo">
        <img src="https://static.wincacademy.nl/logos/main-logo.png">
    </div>
    <section>
        <header>
            <a href="/">Frequently Asked Questions</a>
        </header>
    </section>
    <main>
        
<div class="single-page">

<h1 id="how-should-i-set-the-initial-state-of-a-class-component">How should I set the initial state of a class component?</h1>
<p>Before the ES2019 version of JavaScript you <em>had</em> to write your React classes like this if you wanted to set an initial state:</p>
<pre style="background-color:#2b303b;">
<code class="language-js" data-lang="js"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">App </span><span style="color:#b48ead;">extends </span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
  </span><span style="color:#b48ead;">constructor</span><span style="color:#c0c5ce;">() </span><span style="color:#eff1f5;">{
    </span><span style="color:#bf616a;">super</span><span style="color:#eff1f5;">();
    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">state </span><span style="color:#c0c5ce;">= </span><span style="color:#eff1f5;">{
      counter: </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">,
    }
    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">setCounter </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">setCounter</span><span style="color:#eff1f5;">.</span><span style="color:#8fa1b3;">bind</span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">);
  }

  </span><span style="color:#8fa1b3;">setCounter</span><span style="color:#c0c5ce;">() </span><span style="color:#eff1f5;">{
    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#8fa1b3;">setState</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">prevState</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#eff1f5;">({
      counter: </span><span style="color:#bf616a;">prevState</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">counter </span><span style="color:#c0c5ce;">+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">,
    }));
  }

  </span><span style="color:#8fa1b3;">render</span><span style="color:#c0c5ce;">() </span><span style="color:#eff1f5;">{
    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">(
      &lt;div className=</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">App</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#eff1f5;">&gt;
        &lt;p&gt;{</span><span style="color:#bf616a;">title</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">state</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">counter</span><span style="color:#eff1f5;">}</span><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">p</span><span style="color:#c0c5ce;">&gt;
        </span><span style="color:#eff1f5;">&lt;button onClick={this.</span><span style="color:#bf616a;">setCounter</span><span style="color:#eff1f5;">}&gt;</span><span style="color:#bf616a;">Add</span><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">button</span><span style="color:#c0c5ce;">&gt;
      </span><span style="color:#eff1f5;">&lt;/div&gt;
    )
  }
}
</span></code></pre>
<p>With ES2019 we got <a href="https://javascript.info/class#class-fields">class fields</a>. This means we no longer <em>need</em> to set the state in the constructor:</p>
<pre style="background-color:#2b303b;">
<code class="language-js" data-lang="js"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">App </span><span style="color:#b48ead;">extends </span><span style="color:#a3be8c;">Component </span><span style="color:#eff1f5;">{
  </span><span style="color:#bf616a;">state </span><span style="color:#c0c5ce;">= </span><span style="color:#eff1f5;">{
    counter: </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">,
  }

  </span><span style="color:#8fa1b3;">setCounter </span><span style="color:#c0c5ce;">= () </span><span style="color:#b48ead;">=&gt; </span><span style="color:#eff1f5;">{
    </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#8fa1b3;">setState</span><span style="color:#eff1f5;">(</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">prevState</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#eff1f5;">({
      counter: </span><span style="color:#bf616a;">prevState</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">counter </span><span style="color:#c0c5ce;">+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">,
    }));
  }

  </span><span style="color:#8fa1b3;">render</span><span style="color:#c0c5ce;">() </span><span style="color:#eff1f5;">{
    </span><span style="color:#b48ead;">return </span><span style="color:#eff1f5;">(
      &lt;div className=</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">App</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#eff1f5;">&gt;
        &lt;p&gt;{</span><span style="color:#bf616a;">title</span><span style="color:#eff1f5;">} {</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">state</span><span style="color:#eff1f5;">.</span><span style="color:#bf616a;">counter</span><span style="color:#eff1f5;">}</span><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">p</span><span style="color:#c0c5ce;">&gt;
        </span><span style="color:#eff1f5;">&lt;button onClick={this.</span><span style="color:#bf616a;">setCounter</span><span style="color:#eff1f5;">}&gt;</span><span style="color:#bf616a;">Add</span><span style="color:#c0c5ce;">&lt;/</span><span style="color:#bf616a;">button</span><span style="color:#c0c5ce;">&gt;
      </span><span style="color:#eff1f5;">&lt;/div&gt;
    )
  }
}
</span></code></pre>
<p>But: if you already have a need for the constructor method for some reason it may be more readable to use the first version. But: this is more of a preference than a technical thing.</p>


</div>

    </main>
    <footer>
        <a href="/">Go back home</a>
    </footer>

</body>

</html>