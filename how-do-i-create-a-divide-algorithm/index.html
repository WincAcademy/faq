<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="Winc FAQ">
    <meta name="author" content="Donatas Rasiukevičius">
    <title> How do I create a &#x27;divide algorithm&#x27;? |  Winc FAQ</title>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://static.wincacademy.nl/css/style.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" type="image/png" href="https://static.wincacademy.nl/logos/favicon.png">
</head>

<body>
    <a href="/">
        <div class="logo">
            <img src="https://static.wincacademy.nl/logos/main-logo.png">
        </div>
    </a>
    <a href="/">
        <h1 class="main-title">Frequently Asked Questions</h1>
    </a>
    
<h1 id="how-do-i-create-a-divide-algorithm">How do I create a 'divide algorithm'?</h1>
<pre style="background-color:#2b303b;">
<code class="language-js" data-lang="js"><span style="color:#65737e;">/*
We&#39;ve got a series of objects. We want to divide or categorize those objects
into separate &#39;buckets&#39;. We want to do that on the basis of an attribute.

Basically this algorithm that we&#39;re writing has two steps:

1. make a list of buckets
2. divide the items over the buckets

To be able to do this we need certain functionality:

- read attribute X from an object
- do we have a bucket for X?
- get the bucket for X
- create the bucket for X
- add an item to a bucket

Some of this functionality is so simple we don&#39;t want to write a function for
it. For others we do want to write a function.

So let&#39;s implement this so we can divide these animals into their continents.
*/

</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">animals </span><span style="color:#c0c5ce;">= [{
        name: &#39;</span><span style="color:#a3be8c;">monkey</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">bananas</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">60</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">30</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Africa</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">rhino</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">grass</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">800</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">40</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Africa</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">bat</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">insects</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">5</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Asia</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">true</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">true</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">tapir</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">insects</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">20</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">80</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">South-America</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">true</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">lion</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">meat</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">200</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">50</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Africa</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">true</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">cow</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">grass</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">600</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">60</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Europe</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">moose</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">grass</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">800</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">50</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Europe</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    },
    {
        name: &#39;</span><span style="color:#a3be8c;">house cat</span><span style="color:#c0c5ce;">&#39;,
        food: &#39;</span><span style="color:#a3be8c;">meat</span><span style="color:#c0c5ce;">&#39;,
        weight: </span><span style="color:#d08770;">20</span><span style="color:#c0c5ce;">,
        max_age: </span><span style="color:#d08770;">15</span><span style="color:#c0c5ce;">,
        continent: &#39;</span><span style="color:#a3be8c;">Europe</span><span style="color:#c0c5ce;">&#39;,
        flies: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
        nocturnal: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    },
];

</span><span style="color:#b48ead;">const </span><span style="color:#8fa1b3;">bucketForValueExists </span><span style="color:#c0c5ce;">= (</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">, </span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">=&gt;
    </span><span style="color:#bf616a;">attributeValue </span><span style="color:#c0c5ce;">in </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">;

</span><span style="color:#b48ead;">const </span><span style="color:#8fa1b3;">addBucket </span><span style="color:#c0c5ce;">= (</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">, </span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#c0c5ce;">{
    </span><span style="color:#65737e;">// Add an empty array under &#39;Africa&#39; so we can add animals to this array
    // later on
    </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">] = [];
    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">;
};

</span><span style="color:#65737e;">/*
So now we have the functions that will help us create and add to buckets. Let&#39;s
start using them.
*/

// Create buckets
</span><span style="color:#b48ead;">let </span><span style="color:#bf616a;">buckets </span><span style="color:#c0c5ce;">= {};
</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">attribute </span><span style="color:#c0c5ce;">= &#39;</span><span style="color:#a3be8c;">continent</span><span style="color:#c0c5ce;">&#39;; </span><span style="color:#65737e;">// We want to divide based on continent
</span><span style="color:#bf616a;">animals</span><span style="color:#c0c5ce;">.</span><span style="color:#96b5b4;">forEach</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">animal </span><span style="color:#b48ead;">=&gt; </span><span style="color:#c0c5ce;">{
    </span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">attributeValue </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">animal</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attribute</span><span style="color:#c0c5ce;">]; </span><span style="color:#65737e;">// &#39;Africa&#39; for example
    </span><span style="color:#b48ead;">if </span><span style="color:#c0c5ce;">(!</span><span style="color:#8fa1b3;">bucketForValueExists</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">, </span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">)) {
        </span><span style="color:#bf616a;">buckets </span><span style="color:#c0c5ce;">= </span><span style="color:#8fa1b3;">addBucket</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">, </span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">);
    }
});

</span><span style="color:#65737e;">// Now let&#39;s put the animals into the bucket they belong
</span><span style="color:#bf616a;">animals</span><span style="color:#c0c5ce;">.</span><span style="color:#96b5b4;">forEach</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">animal </span><span style="color:#b48ead;">=&gt; </span><span style="color:#c0c5ce;">{
    </span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">attributeValue </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">animal</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attribute</span><span style="color:#c0c5ce;">]; </span><span style="color:#65737e;">// &#39;Africa&#39; for example
    </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">].</span><span style="color:#96b5b4;">push</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">animal</span><span style="color:#c0c5ce;">); </span><span style="color:#65737e;">// Find the right bucket and add the animal to the array of that bucket
</span><span style="color:#c0c5ce;">});

</span><span style="color:#ebcb8b;">console</span><span style="color:#c0c5ce;">.</span><span style="color:#96b5b4;">log</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">);

</span><span style="color:#65737e;">// We could make this a lot more compact and iterate only once, but that makes
// it harder to read.
</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">divided </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">animals</span><span style="color:#c0c5ce;">.</span><span style="color:#8fa1b3;">reduce</span><span style="color:#c0c5ce;">((</span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">, </span><span style="color:#bf616a;">current</span><span style="color:#c0c5ce;">) </span><span style="color:#b48ead;">=&gt; </span><span style="color:#c0c5ce;">{
    </span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">attributeValue </span><span style="color:#c0c5ce;">= </span><span style="color:#bf616a;">current</span><span style="color:#c0c5ce;">.</span><span style="color:#bf616a;">continent</span><span style="color:#c0c5ce;">;
    </span><span style="color:#b48ead;">if </span><span style="color:#c0c5ce;">(!(</span><span style="color:#bf616a;">attributeValue </span><span style="color:#c0c5ce;">in </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">)) </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">] = [];
    </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">[</span><span style="color:#bf616a;">attributeValue</span><span style="color:#c0c5ce;">].</span><span style="color:#96b5b4;">push</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">current</span><span style="color:#c0c5ce;">);
    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">buckets</span><span style="color:#c0c5ce;">;
}, {});
</span><span style="color:#ebcb8b;">console</span><span style="color:#c0c5ce;">.</span><span style="color:#96b5b4;">log</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">divided</span><span style="color:#c0c5ce;">);
</span></code></pre>


</body>

</html>